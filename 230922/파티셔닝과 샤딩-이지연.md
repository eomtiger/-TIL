대규모 트래픽, 데이터를 다루는 곳에서는 확장성을 위해서 샤딩, 파티셔닝을 필수적으로 고려하게 됩니다. 파티셔닝에서는 수평(테이블의 Row를 특정 컬럼의 값을 기준으로 나누는 것)파티셔닝과 수직(컬럼을 여러 테이블로 나누는것)파티셔닝이 존재합니다.

### 파티셔닝 (Partitioning)

- 하나의 인스턴스내에서 여러 테이블로 나누어 저장하는 기법
- 큰 테이블이나 인덱스를 관리하기 쉬운 크기로 분리하는 방법

### 샤딩 (Sharding)

- 여러 인스턴스에 여러 서브셋을 저장하는 기법
- 물리적으로 다른 데이터베이스에 데이터를 수평 분할 방식으로 분산 저장하는 방법

---

### 파티셔닝 장점

- 성능: 데이터를 나누어 여러 테이블에 저장하는 것 만으로 성능이 향상된다. 바로 인덱스의 크기가 작아지기 때문이다. 인덱스의 크기가 작아지면 자연스레 인덱스를 통한 조회시간이 줄어들어 성능이 향상된다.
- 메모리 효율: 테이블이 너무 커져서 인덱스를 모두 메모리에 올려 처리할 수가 없다면 성능상 문제가 될 것이다. 따라서 테이블이 너무 큰 경우에 파티셔닝을 한다면, 인덱스도 파편화되기 때문에 메모리를 효율적으로 사용할 수 있다.

### 파티셔닝 단점

- 테이블 간 join 비용 증가

### 샤딩 장점

- 쿼리(read, write)를 여러 인스턴스로 분산하여 처리하도록 할 수 있다. 이를 통해 성능과 확장성을 얻을 수 있다.

### 샤딩 단점

- 다른 샤드끼리 join 할 수 없다.
- auto increment가 샤드 별로 달라질 수 있다.
- 하나의 트랜잭션에서 두개 이상의 샤드에 접근할 수 없다.
