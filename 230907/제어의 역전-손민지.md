# 제어의 역전에 대한 설명
제어의 역전(IoC, Inversion of Control)이란 **객체의 생성, 생명주기의 관리 등 모든 객체에 대한 제어권을 개발자가 아닌 IoC 컨테이너에게 넘긴 것**을 말합니다. 이를 통해 객체 간의 **결합도를 줄이고 유연한 코드를 작성**할 수 있게 하여 **가독성을 높이고 코드 중복을 해소하고 유지 보수를 편하게** 할 수 있게 합니다.  
스프링에서는 IoC 컨테이너에 객체들을 생성하면 객체끼리 의존성을 주입(DI, Dependency Injection)하는 역할을 하고 컨테이너에 등록한 객체들을 '빈'이라고 합니다.

<br>
<br>

## 배경 지식

### IoC 컨테이너
인스턴스 생성부터 소멸까지의 인스턴스 생명주기 관리를 개발자 대신 해주는 스프링 프레임워크에 있는 컨테이너로 스프링 컨테이너라고도 한다. 객체관리 주체가 프레임워크(Container)가 되기 때문에 개발자는 로직에 집중할 수 있는 장점이 있다.  
- 객체의 생성을 책임지고, 의존성을 관리
- POJO*의 생성, 초기화, 서비스, 소멸에 대한 권한을 가짐  
*POJO(Plain Old Java Object)  
: 주로 특정 자바 모델이나 기능, 프레임워크를 따르지 않는 Java Object를 지칭  
: Java Bean 객체가 대표적. 간단하게 getter / setter를 생각하면 될 듯
- 개발자들이 직접 POJO를 생성할 수 있지만 컨테이너에게 맡김
- 개발자는 비즈니스 로직에 집중할 수 있음
- 객체 생성 코드가 없으므로 TDD가 용이  

---

### 스프링 컨테이너(IoC 컨테이너)의 종류
스프링 컨테이너가 관리하는 객체를 빈(Bean)이라고 하고,  
이 빈들을 관리한다는의미로 컨테이너를 빈 팩토리(BeanFactory) 라고 부른다.  
객체의 생성과 객체 사이의 런타임 관계를 DI 관점에서 볼 때 컨테이너를 BeanFactory라고 한다.  
BeanFactory에 여러가지 컨테이너 기능을 추가한 어플리케이션컨텍스트(ApplicationCotnext)가 있다.  

**BeanFactory**
- BeanFactory 계열의 인터페이스만 구현한 클래스는 단순히 컨테이너에서 객체를 생성하고 DI를 처리하는 기능만 제공
- Bean을 등록, 생성, 조회, 반환 관리
- 팩토리 디자인 패턴을 구현한 것으로 BeanFactory는 빈을 생성하고 분배하는 책임을 지는 클래스
- Bean을 조회할 수 있는 getBean() 메소드가 정의되어 있음
- 보통은 BeanFactory를 바로 사용하지 않고, 이를 확장한 ApplicationContext를 사용

**ApplicationContext**
- Bean을 등록, 생성, 조회, 반환 관리하는 기능은 BeanFactory와 동일
- 스프링의 각종 부가 기능을 추가로 제공한다.
  - 국제화가 지원되는 텍스트 메시지를 관리
  - 이미지같은 파일 자원을 로드할 수 있는 포괄적인 방법을 제공
  - 리스너로 등록된 빈에게 이벤트 발생을 알려줌

---

### IoC의 분류
**DL(Dependency Lookup)**  
저장소에 저장되어 있는 Bean에 접근하기 위해 컨테이너가 제공하는 API를 이용하여 Bean을 Lockup하는 것

**DI(Dependency Injection)**  
각 클래스간의 의존관계를 빈 설정(Bean Definition) 정보를 바탕으로 컨테이너가 자동으로 연결해주는 것
- Setter Injection (수정자 주입)
- Constructor Injection (생성자 주입)
- Method Injection (필드 주입)

DL 사용 시 컨테이너 종속이 증가하기 때문에 주로 DI를 사용한다.

