### 로드밸런싱

서버가 처리해야 할 업무 혹은 요청(Load)을 여러 대의 서버로 나누어(Balancing) 처리하는 것을 말합니다. 한 대의 서버로 부하가 집중되지 않도록 트래픽을 관리해 각각의 서버가 최적의 퍼포먼스를 보일 수 있도록 하는 것이 목입니다.

서비스의 규모가 커지고, 이용자 수가 늘어나게 되면 기존의 서버만으로는 원활한 서비스 동작이 불가능하게 되고, 이에 대처할 수 있는 방법은 크게 두 가지가 있습니다.
기존 서버 성능을 확장하는 scale-up방식과 여러대의 서버를 더 증설하는 scale-out방법이 있습니다.
이 scale-out 상황에서 로드밸런싱이 반드시 필요합니다.

### 다양한 로드밸런싱의 기법

- 라운드로빈 : 서버에 들어온 요청을 순서대로 돌아가며 배정
- 가중 라운드 로빈 : 가중치를 매기고 가중치가 높은 서버에 클라이언트 요청 우선 배분
- IP 해시 : IP주소를 특정 서버로 매칭해 요청을 처리하는 방식
- 최소 연결 방식 : 가장 적은 연결 상태를 보이는 서버에 우선적 트래픽 배분
- 최소 응답 시간 방식 : 연결 상태와 응답시간을 모두 고려해 트래픽 배분(적은 연결, 짧은 응답시간)

### L4로드 밸런싱과 L7로드밸런싱

- 전송계층과 응용계층 프로토콜의 헤더를 부하 분산에 이용하기에 붙은 접두사입니다.
- L4는 네트워크 계층이나 전송계층의 정보를 바탕으로 로드를 분산합니다.
- L7은 애플리케이션 계층(HTTP,FTP,SMTP)에서 로드를 분산하기에 HTTP헤더, 쿠키 등과 같은 사용자의 요청을 기준으로 특정 서버에 트래픽을 분산합니다. 클라이언트 요청을 세분화해 서버에 전달할 수 있습니다.
- L7은 Dos/DDos 와 같은 비정상 트래픽을 필터링 할 수 있어 네트워크 보안 분야에서도 활용되고 있습니다.
