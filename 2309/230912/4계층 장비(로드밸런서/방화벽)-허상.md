# 4계층 장비(세션장비)
2,3 계층에서 고려하지 않은 통신의 방향성, 순서같은 통신 전반에 대한 관리가 필요하면 이를 세션 테이블에 담아 관리
세션 테이블을 기반으로 동작
#### 특징
세션 정보가 가장 중요(그래서 세션 장비라고 불림)
- 세션 테이블 : 세션장비는 세션테이블을 기반으로 동작
- 대칭 경로 요구 : 인바운드와 아웃바운드 경로가 일치해야합니다.
- 정보 변경(로드밸런서인 경우) : IP 주소가 변경되며 확장된 L7 로드밸런서(ADC)는 애플리케이션 프로토콜 정보도 변경됩니다.

#### 로드밸런서
서버나 장비의 부한분산을 위해 사용하는 장비
트래픽을 분배해주는 기능과 IP주소나 4계층 정보, 어플리케이션 정보를 확인,수정하는 기능을 가지고 있습니다.
동작하는 방식에 따라 4계층과 7계층으로 나뉩니다.
- L4로드밸런서 : TCP,UDP 정보(특히 포트넘버)를 기반으로 로드 밸런싱 수행, 4계층에 대한 정보로만 분산처리하는 경우
<br>
- L7로드밸런서(Application Delivery Controller) : HTTP, FTP 등과 같은 애플리케이션 프로토콜 정보를 기반으로 로드밸런싱 수행, URI 같은 정보를 기반으로 프로토콜을 이해한 후 부하를 분산 할 수 있습니다.

#### 방화벽
네트워크 중간에서 해당 장비를 통과하는 트래픽을 사전에 주어진 정책 조건에 맞추어 허용하거나 차단하는 장비

패킷이 외부로 나갈 때 세션정보를 저장하고 들어오거나 나갈 때 저장했던 세션정보를 참조해 들어오는 패킷이 외부에서 처음 시작된 것인지 내부 사용자가 외부로 요청한 응답인지 가려내 인과관계를 파악합니다.

방화벽은 메모리에 남은 이런 상태와 세션정보를 이용해 패킷을 상세히 로깅하고 관찰합니다.