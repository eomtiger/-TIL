# 스위치
스위치는 MAC주소를 기반으로 동작합니다.

네트워크의 중간에서 패킷을 받아 필요한 곳에 보내주는 중재자 역할을 담당하고있습니다.

설정 없이도 MAC 주소를 기반으로 패킷을 전달하는 기본 동작을 수행할 수 있고 논리적으로 네트워크를 분리할 수 있는 VLAN 기능과, 네트워크 루프를 방지하는 스패닝트리 프로토콜(STP) 과 같은 기능 보유하고 있습니다.

###### PDU
각 계층에서 헤더와 데이터를 합친 부분
- 1계층 : 비트
- 2계층 : 프레임
- 3계층 : 패킷
- 4계층 : 세그먼트
- 5,6,7계층 : 데이터

#### 동작
스위치는 패킷을 동시에 여러 장비가 서로 간섭없이 통신하도록 도와주는 장비입니다.

여러 단말이 동시에 통신할 수 있어 기다리거나 충돌 때문에 대기하는 문제 해결했고 효율성을 향상시켰습니다.

핵심역할 : 누가 어느 위치에 있는지 파악하고 정확한 위치로 패킷 전송(스위치가 2계층 주소를 이해하고  MAC주소 테이블을 갖고 있어서 가능)

테이블에 없는 도착지 주소를 가진 패킷이 스위치로 들어오면 전체 포트로 패킷을 전송하고 있으면 해당 포트로만 전송합니다.

스위치 동작방식

1. 플러딩
2. 어드레스 러닝
3. 포워딩/필터링

#### 플러딩
스위치는 부팅 시 네트워크 관련정보가 아무것도 없습니다.

이 때는 허브처럼 동작합니다. (허브는 패킷이 들어온 포트를 제외하고 모든 포트로 패킷 전달)

플러딩 : 스위치가 허브 같이 모든 포트로 패킷을 흘리는 동작방식

#### 어드레스 러닝
MAC 주소 테이블을 만들고 유지하는 과정

패킷이 특정 포트에 들어오면 스위치에서 해당 패킷의 출발지 MAC과 포트번호를 테이블에 기록합니다.

어드레스 러닝은 출발지의 MAC 주소정보 이용하므로 브로드캐스트나 멀티캐스트에 대한 MAC 학습 불가

#### 포워딩/필터링

포워딩 : 패킷이 스위치에 왔을 때 테이블과 비교해 맞는 정보가 있으면 해당 포트로 패킷 전송

필터링 : 다른 포트로는 해당 패킷 전송X

포워딩과 필터링이 여러 포트에서 동시에 수행 될 수 있습니다. 다른 포트에 영향을 미치지 않으므로 독립적으로 동작 가능

일반적으로 유니캐스트에 대해서만 포워딩과 필터링 수행

BUM(브로드,멀티,유니) 트래픽에서는 출발지가 사용되지 않으므로 모두 플러딩합니다.