### 복합 인덱스 우선 순위

보통 여러 필드를 기반으로 조회를 할 때 복합 인덱스를 생성하는데, 이 인덱스를 생성할 때는 순서가 있고 생성 순서에 따라 인덱스 성능이 달라집니다. 같음, 정렬, 다중 값, 카디널리티 순으로 생성해야 합니다.

1. 어떠한 값과 같음을 비교하는 ==이나 equal이라는 쿼리가 있다면 먼저 인덱스로 설정

2. 정렬에 쓰는 필드라면 그다음 인덱스로 설정

3. 다중 값을 출력해야 하는 필드, 즉 쿼리 자체가 >이거나 < 등 많은 값을 출력해야 하는 쿼리에 쓰는 필드라면 나중에 인덱스를 설정

4. 유니크한 값의 정도를 카디널리티라고 합니다. 이 카디널리티가 높은 순서를 기반으로 인덱스를 생성해야 합니다. 예를 들어 age와 email이 있다고 할 때, email이 유니크한 정도가 더 높기 때문에 email 필드에 대한 인덱스를 먼저 생성해야 합니다.
